import{j as g,L as p,r as a,R as P,a as c,O,b as C,c as N,B as j}from"./vendor.99e1cfb1.js";const R=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))h(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&h(i)}).observe(document,{childList:!0,subtree:!0});function d(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function h(n){if(n.ep)return;n.ep=!0;const o=d(n);fetch(n.href,o)}};R();const e=g.exports.jsx,t=g.exports.jsxs,S=g.exports.Fragment;function M(){return t("nav",{children:[e("header",{children:"Masky Client"}),t("div",{className:"container ",children:[e(p,{to:"/",children:"Overview"}),e(p,{to:"/setting",children:"Setting"}),e(p,{to:"/logs",children:"Logs"}),e(p,{to:"/about",children:"About"})]})]})}function k(){return t("main",{children:[e("h3",{children:"About"}),e("a",{href:"https://github.com/wkj9893/masky",target:"_blank",children:"source code"})]})}function D(){return t("main",{children:[e("h3",{children:"Overview"}),e("button",{children:"Reconnect Server"})]})}function B(){const[u,s]=a.exports.useState(0),[d,h]=a.exports.useState(""),[n,o]=a.exports.useState(""),[i,f]=a.exports.useState(""),[m,v]=a.exports.useState(""),[b,L]=a.exports.useState("true"),[w,y]=a.exports.useState("info");a.exports.useEffect(()=>{(async()=>{const l=await(await fetch("/api/setting")).json();s(l.port),h(l.mode),o(l.addr),f(l.dns),v(l.password),L(l.allowLan?"true":"false"),y(l.logLevel)})()},[]);async function A(r){r.preventDefault();const x={port:u,mode:d,addr:n,dns:i,password:m,allowLan:b==="true",logLevel:w},l=await fetch("/api/setting",{method:"PATCH",body:JSON.stringify(x)});if(l.ok){alert("successfully update setting");return}console.error("fail to update setting",l)}return t("main",{children:[e("h3",{children:"Setting"}),t("form",{onSubmit:A,children:[t("label",{children:["Port:",e("input",{type:"number",value:u,onChange:r=>{s(r.target.valueAsNumber)}})]}),t("label",{children:["Mode:",t("select",{value:d,onChange:r=>{h(r.target.value)},children:[e("option",{value:"direct",children:"direct"}),e("option",{value:"rule",children:"rule"}),e("option",{value:"global",children:"global"})]})]}),t("label",{children:["Addr:",e("input",{value:n,onChange:r=>{o(r.target.value)}})]}),t("label",{children:["Dns:",e("input",{value:i,onChange:r=>{f(r.target.value)}})]}),t("label",{children:["Password:",e("input",{type:"password",value:m,onChange:r=>{v(r.target.value)}})]}),t("label",{children:["AllowLan:",t("select",{value:b,onChange:r=>{L(r.target.value)},children:[e("option",{value:"true",children:"true"}),e("option",{value:"false",children:"false"})]})]}),t("label",{children:["LogLevel:",t("select",{value:w,onChange:r=>{y(r.target.value)},children:[e("option",{value:"info",children:"info"}),e("option",{value:"warn",children:"warn"}),e("option",{value:"error",children:"error"})]})]}),e("button",{children:"Update Setting"})]})]})}function E(){const[u,s]=a.exports.useState(["hello","world"]);return t("main",{children:[e("h3",{children:"Logs"}),u.map(d=>{})]})}function F(){return e("div",{className:"app",children:e(P,{children:t(c,{path:"/",element:e(I,{}),children:[e(c,{path:"/",element:e(D,{})}),e(c,{path:"/setting",element:e(B,{})}),e(c,{path:"/logs",element:e(E,{})}),e(c,{path:"/about",element:e(k,{})}),e(c,{path:"*",element:e(_,{})})]})})})}function I(){return t(S,{children:[e(M,{}),e(O,{})]})}function _(){return t(S,{children:[e("h3",{children:"Nothing to see here"}),e(p,{to:"/",children:e("h3",{children:"Go to the home page"})})]})}C.render(e(N.StrictMode,{children:e(j,{children:e(F,{})})}),document.getElementById("root"));
